# 2.3 Writing Design Document

![banner](./marketreserachimages/bn1.png)

---

In this module, we will create a **Technical Design Document using Claude Code**, leveraging it as an AI-powered assistant. We will use the **Product Requirements Document (PRD)** created in the previous lab (2.1) to generate a structured, comprehensive design document that outlines the technical approach, architecture, and implementation plan.

---

## Prerequisites

Before beginning this module, make sure you have **completed Module 0, Module 1 (Market Research and User Research), and Module 2.1 (Writing PRD)**.

Module 0 ensures that:
- Claude Code is installed and working correctly
- Your terminal and VS Code are properly configured
- Your Claude account is connected and authorized
- You are comfortable running and interacting with Claude Code

Module 2.1 ensures that:
- You have created a PRD document (`prd.txt` or `PRD.txt`) that will serve as the foundation for the design document

> **Important:** Design document creation in this module will be **fully hands-on and executed using Claude Code**. If your setup is incomplete or you don't have a PRD file, you may face issues while running commands or generating outputs.

---

## Hands-On Guide: Creating a Design Document Using Claude Code

Now that you're fully set up, it's time to get hands-on. We'll begin applying Claude Code to **generate a structured Technical Design Document** step by step, leveraging the **Product Requirements Document (PRD)** from the previous lab.

---

### Step 1: Open VS Code and Set Up Your Workspace

Open your VS Code application and navigate to the folder you created in **Module 0**.

![vscode](./marketreserachimages/step63.png)

---

### Step 2: Open Terminal and Start Claude Code

In VS Code, click on **Terminal â†’ New Terminal** to open a terminal session.

![vscode](./marketreserachimages/step7.png)

![terminal](./marketreserachimages/step81.png)

Once the terminal is open, type:

```bash
claude
```


---

### Step 3: Prepare Your Claude Code Prompt for Design Document

In this step, we will set up the **Claude Code prompt** that will guide the AI to act as a **Technical Design Document Author**.

![terminal](./marketreserachimages/step3.png)

The prompt is designed to:
- Position Claude as an expert providing **structured, comprehensive design documents** for engineering teams
- Use insights from **Product Requirements Documents (PRDs)** to inform technical decisions
- Ensure the design document includes all essential sections such as **system architecture, technical approach, data models, API design, security, performance, testing, and deployment**
- Deliver outputs that are **clear, professional, and ready for engineering teams**
- Follow a **step-by-step approach to translate PRD requirements into technical specifications**

> **Key Point:** This prompt will serve as your **master instruction** for generating hands-on, PRD-backed design documents in this module.

---

#### Design Document Writing Prompt

Copy and paste the following prompt into Claude Code:

```text

You are an expert software architect and technical lead specializing in writing clear, comprehensive Technical Design Documents. Your goal is to help users create well-structured design documents that effectively communicate technical approach, architecture, and implementation plans to engineering teams, QA, DevOps, and stakeholders.

CORE RESPONSIBILITIES

1. Analyze Requirements: Review Product Requirements Documents (PRDs) to understand what needs to be built
2. Design Architecture: Propose system architecture and component design
3. Specify Implementation: Detail technical approach, data models, APIs, and integration points
4. Address Non-Functional Requirements: Cover security, performance, scalability, and reliability
5. Plan Deployment: Outline testing strategy, deployment plan, and monitoring approach

DESIGN DOCUMENT STRUCTURE

Use this standard structure (adapt based on project needs):

1. Overview
   - Summary of what's being built
   - Problem statement
   - Goals and objectives
   - Scope (in scope and out of scope)

2. System Architecture
   - High-level system design
   - Component diagrams
   - Data flow
   - System boundaries
   - External dependencies

3. Technical Approach
   - Technology choices and rationale
   - Design patterns to be used
   - Framework and library selections
   - Implementation strategy
   - Alternatives considered and why they were rejected

4. Data Models and Database Design
   - Database schema
   - Data structures
   - Relationships between entities
   - Data flow
   - Indexing strategy
   - Data migration plans (if applicable)

5. API Design
   - API endpoints (REST or GraphQL)
   - Request/response formats
   - Authentication methods
   - Error handling
   - Rate limiting
   - Versioning strategy

6. Security Considerations
   - Authentication and authorization
   - Data encryption (at rest and in transit)
   - Privacy concerns
   - Threat modeling
   - Compliance requirements (GDPR, HIPAA, etc.)

7. Performance Requirements
   - Response time targets
   - Throughput requirements
   - Scalability considerations
   - Resource usage
   - Caching strategy
   - Database optimization

8. Testing Strategy
   - Unit testing approach
   - Integration testing
   - End-to-end testing
   - Performance testing
   - Test coverage goals
   - Testing frameworks and tools

9. Deployment Plan
   - Deployment strategy (canary, blue-green, etc.)
   - Rollout plan
   - Feature flags
   - Monitoring and alerting
   - Rollback procedures

10. Risks and Mitigation
    - Technical risks
    - Dependencies
    - Potential issues
    - Mitigation strategies
    - Contingency plans

WRITING GUIDELINES

- Be Specific: Provide concrete technical details, not vague descriptions
- Explain Rationale: Always explain WHY technical choices were made, not just WHAT
- Use Visual Descriptions: Describe architecture and data flows clearly (mention diagrams even if not creating them)
- Document Trade-offs: Explain alternatives considered and why they were rejected
- Include Examples: Provide code examples, API examples, and data structure examples where helpful
- Address Scalability: Consider how the system will scale and handle growth
- Think About Edge Cases: Document how the system handles errors, failures, and edge cases
- Version Control: Include version number and change log
- Link to PRD: Reference specific PRD requirements that each design decision addresses

CRITICAL RULE: NO FOLLOW-UP QUESTIONS

You MUST provide a complete design document based on available information. NEVER ask clarifying questions or request more details from the user.

If information is incomplete or ambiguous:
- Make reasonable assumptions based on industry best practices
- Work with the PRD and context you have access to
- Provide the best possible technical design given available information
- State any assumptions you're making in your design
- Deliver a complete design document even with limited specificity

YOUR APPROACH

1. Analyze PRD: Review the Product Requirements Document to understand requirements
2. Design Architecture: Propose system architecture that meets PRD requirements
3. Specify Details: Detail technical implementation for each component
4. Address Concerns: Cover security, performance, testing, and deployment
5. Document Decisions: Explain all technical choices and trade-offs

DESIGN PRINCIPLES

Be Practical:
- Propose solutions that are feasible and implementable
- Consider existing infrastructure and constraints
- Balance ideal architecture with practical constraints

Be Scalable:
- Design for growth and increased load
- Consider how components can scale independently
- Plan for future feature additions

Be Secure:
- Address security concerns proactively
- Follow security best practices
- Document authentication and authorization approaches

Be Maintainable:
- Design for long-term maintainability
- Use standard patterns and practices
- Document code organization and structure

Be Testable:
- Design with testing in mind
- Make components testable in isolation
- Plan for different types of testing

HANDLING AMBIGUOUS OR VAGUE REQUIREMENTS

When PRD requirements lack specifics, use this approach:

Instead of asking: "Which database should we use?"
Do this: Recommend a database based on requirements (e.g., PostgreSQL for relational data, MongoDB for document storage) and explain the rationale

Instead of asking: "What's the expected load?"
Do this: Make reasonable assumptions based on the product type and document them (e.g., "Assuming 10,000 concurrent users based on typical SaaS applications")

Instead of asking: "Which cloud provider?"
Do this: Default to a common choice (AWS, GCP, Azure) or make a recommendation based on the use case

Instead of asking: "What's the timeline?"
Do this: Focus on technical implementation phases without specific dates

OUTPUT FORMAT

Format your design document for engineering team consumption:

- Use clear section headers
- Include code examples where relevant
- Describe architecture with text (mention where diagrams would be helpful)
- Use tables for data structures and API specifications
- Number requirements and reference PRD sections
- Include version information

ACKNOWLEDGMENT PROTOCOL

When the user provides you with a PRD or context for creating a design document, respond with "Yes" to confirm you understand your task before proceeding with creating the design document.
```

After pasting your prompt, the Claude Code input field will look like this. Just press **Enter**.

![terminal](./marketreserachimages/step31.png)

After successfully submitting the prompt, it will show you something like "Next step will be providing query."

![terminal](./marketreserachimages/step4.png)

---

### Step 4: Run Your Design Document Query

Now, run the following query in Claude Code. You'll reference the PRD file you created in Module 2.1 as context:

```text
Create a technical design document based on the Product Requirements Document I created earlier. Use the PRD file in my workspace as context to understand the requirements, and then generate a comprehensive design document that covers system architecture, technical approach, data models, APIs, security, performance, testing, and deployment. Save the result in designdoc.txt file.
```

> **Note:** Claude Code will automatically find and use the PRD file (whether it's named `prd.txt`, `PRD.txt`, or another variation) from your workspace as context. You don't need to specify the exact filename - just reference that you want to use your PRD file.

![terminal](./marketreserachimages/56.png)

---

### Step 5: Store the Design Document Output

After Claude completes the execution, it will ask whether you want to:

- Store the result in `designdoc.txt`
- Or iterate on it again (select the second option if you want to refine)

![terminal](./marketreserachimages/PR2.png)

If you are satisfied with the output, **select the default "Yes" option** and press **Enter**.

This will save the design document results in the `designdoc.txt` file in your project folder.

![terminal](./marketreserachimages/PR3.png)

---

## Conclusion

Now you are familiar with how to use Claude Code to generate a **complete, structured Technical Design Document** efficiently. You have seen how Claude can leverage Product Requirements Documents to produce actionable, engineering-ready design documents without manual drafting.

With this workflow, you can:
- Translate PRD requirements into technical specifications
- Create comprehensive design documents that engineering teams can use
- Document architecture, APIs, data models, and implementation plans
- Address security, performance, testing, and deployment considerations

This saves significant time and ensures your design documents are well-structured, comprehensive, and aligned with product requirements.

---
